{"version":3,"sources":["components/SearchWraper/SearchWraper.jsx","paths/Search/SearchList/SearchList.jsx","paths/Search/Search.jsx","components/List/List.jsx","components/Video/Video.jsx","paths/Movie/Movie.jsx","paths/Tv/Tv.jsx","paths/Animation/Animation.jsx","components/VideoPlayer/EpisodeList/EpisodeList.jsx","components/VideoPlayer/EpisodeButton/EpisodeButton.jsx","components/VideoPlayer/NextEpisode/NextEpisode.jsx","components/VideoPlayer/VjsMsg/VjsMsg.jsx","components/VideoPlayer/VideoPlayer.jsx","components/ButtonSE/ButtonSE.jsx","paths/PlayPage/PlayPage.jsx","App.js","index.js","allTags.js"],"names":["SearchWraper","toSearch","event","preventDefault","props","history","push","className","onClick","this","placeholder","Component","withRouter","SearchList","intoPlayer","content","id","_id","bundleSize","type","contentlist","typesCN","map","bundleName","Search","state","MoviesList","AnimationsList","TvsList","pressEnter","code","keyCode","search","value","inputNode","blur","forEach","axios","get","then","res","setState","data","autoFocus","onKeyUp","ref","List","page","limit","noMoreData","getVideoList","tag","pageGot","length","coverImgFail","src","target","index","lastIndexOf","ext","slice","console","log","listScroll","scrollTop","offsetHeight","bottomHeight","scrollHeight","onScroll","listWraperNode","onError","alt","SwiperCore","use","Thumbs","Navigation","Video","activeIndex","thumbsSwiper","tags","tagsCN","onSwiper","watchSlidesVisibility","watchSlidesProgress","spaceBetween","slidesPerView","onSlideChange","swiper","thumbs","style","overflow","allTags","require","Movie","movieTags","movieTagsCN","unshift","Tv","tvTags","tvTagsCN","Animation","animationTags","animationTagsCN","EpisodeList","isShow","e","s","sete_inline","_","se_info","startep_local","i","startep","body","toggleList","newisShow","pubsub","subscribe","unsubscribe","chapters","display","vjsComponent","videojs","getComponent","vjsEpisodeList","player","options","mount","bind","ready","on","ReactDOM","unmountComponentAtNode","el","render","registerComponent","EpisodeButton","toggleList_local","publish","vjsEpisodeButton","NextEpisode","nextep","width","height","viewBox","points","fill","x1","y1","x2","y2","stroke","strokeWidth","vjsNextEpisode","VjsMsg","msgShow","msg","vjsMsg","willEnd","timer","setTimeout","clearTimeout","nextState","VideoPlayer","create_allplaylist","allplaylist","videoInfo","Object","keys","key","list","item","sources","playlist","currentItem","maxe","addSubs","currentsubs","addRemoteTextTrack","default","label","mode","togglePlay","paused","play","pause","touchend","startX","moveDirection","Dx","changedTouches","clientX","Math","abs","newtime","currentTime","vjsNode","parseInt","touchmove","lastMoveX","lastMoveY","movePoint","moveX","moveY","clientY","dx","dy","absx","absy","newvolume","volume","touchstart","prevTime","currTime","Date","getTime","startPoint","startY","that","videoNode","autoplay","controls","preLoad","autoadvance","rotatezoom","vh","videoHeight","vw","videoWidth","isFullscreen","currentWidth","window","screen","availHeight","settings","textTrackSettings","setValues","updateDisplay","getChild","addChild","dispose","data-vjs-player","node","onTouchEnd","onTouchStart","onTouchMove","ButtonSE","s_swift","sete","create_s_e","seasonCN","partCN","s_name","s_e","s_num","j","createSwiper","season","index1","observer","observeParents","ep","index2","changeEpisode","changeSeason","name","PlayPage","location","app","currentPath","pathname","hide","findIndex","path","activeClassName","to","component","document","getElementById","Action","Fiction","Love","Fantasy","Comedy","Horror","Adventure","Disaster","Realistic","Samurai","West","exports"],"mappings":"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","file":"static/js/main.28e98bf6.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport {withRouter} from \"react-router-dom\"\r\nimport \"./SearchWraper.css\"\r\n\r\nclass SearchWraper extends Component {\r\n    // state={\r\n    //     fakeOn:true,\r\n    // }\r\n\r\n    // toggleFake=(event)=>{\r\n    //     event.preventDefault()\r\n    //     const {fakeOn}=this.state\r\n    //     this.setState({fakeOn:!fakeOn})\r\n    // }\r\n    toSearch=(event)=>{\r\n        event.preventDefault()\r\n        this.props.history.push(\"/search\")\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"search_fakebox\">\r\n                <div className=\"search_fake\">\r\n                    <div className=\"search_fake_outer\" onClick={this.toSearch}>\r\n                        <input className=\"search_fake_input\" placeholder=\"输入内容进行搜索\"  />\r\n                        <span className=\"search_fake_icon\"></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(SearchWraper)","import React, { Component } from 'react'\r\nimport {withRouter} from \"react-router-dom\"\r\nimport \"./SearchList.css\"\r\n\r\nclass SearchList extends Component {\r\n    intoPlayer=(content)=>{\r\n        const {_id:id, bundleSize, type}=content\r\n        // const {type}=this.props\r\n        this.props.history.push(\"/playpage\",{id,type,bundleSize})\r\n    }\r\n    render() {\r\n        const {contentlist}=this.props\r\n        // console.log(contentlist);\r\n        let typesCN={\r\n            \"Movies\":\"电影\",\r\n            \"Animations\":\"动漫\",\r\n            \"Tvs\":\"电视剧\",\r\n        }\r\n        return (\r\n            // <div className=\"search_listWraper\" >\r\n                <ul className=\"search_list\" >\r\n                    {\r\n                        contentlist.map(content=>{\r\n                            return(\r\n                                <li className=\"search_list_item\" onClick={()=>{this.intoPlayer(content)}} key={content._id}>\r\n                                    <span className=\"search_result_name\">\r\n                                        {content.bundleName}\r\n                                    </span>\r\n                                    <span className=\"search_result_type\">\r\n                                        {typesCN[content.type]}\r\n                                    </span>\r\n                                </li>\r\n                            )\r\n                        })\r\n                        \r\n                    }\r\n\r\n                </ul>\r\n            // </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(SearchList)\r\n","import React, { Component } from 'react'\r\nimport axios from \"axios\"\r\nimport \"./Search.css\"\r\nimport SearchList from \"./SearchList/SearchList\"\r\n\r\n\r\nexport default class Search extends Component {\r\n    state={\r\n        // contentlist:[],\r\n        MoviesList:[],\r\n        AnimationsList:[],\r\n        TvsList:[]\r\n    }\r\n    pressEnter=(event)=>{\r\n        if(event.code===\"Enter\" || event.keyCode===13) {\r\n            this.search()\r\n        }\r\n    }\r\n    search=()=>{\r\n        const {value}=this.inputNode;\r\n        // this.setState({contentlist:[]})\r\n        // if(value===\"\"){return}\r\n        this.inputNode.blur()\r\n        let types=[\"Movies\", \"Animations\", \"Tvs\"]\r\n        types.forEach(type=>{\r\n            axios.get(`/video/search?keywords=${value}&type=${type}`).then(res=>{\r\n                // console.log(res.data);\r\n                this.setState({[type+\"List\"]:res.data})\r\n                // this.props.location.state=value\r\n            })\r\n        })\r\n    }\r\n    render() {\r\n        const {MoviesList, AnimationsList, TvsList }=this.state\r\n        // const contentlist=[...MoviesList, ...AnimationsList, ...TvsList]\r\n        // console.log(contentlist);\r\n        return (\r\n            <div className=\"search_page\">\r\n                <div className=\"search_box\">\r\n                    <div className=\"search_outer\">\r\n                        <input autoFocus className=\"search_input\" placeholder=\"输入内容进行搜索\" onKeyUp={this.pressEnter} ref={inputNode=>this.inputNode=inputNode} />\r\n                        <span className=\"search_icon\" onClick={this.search}></span>\r\n                    </div>\r\n                </div>\r\n                <SearchList contentlist={[...MoviesList, ...AnimationsList, ...TvsList]} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport axios from \"axios\"\r\n// import debounce from 'lodash.debounce';\r\nimport {withRouter} from \"react-router-dom\"\r\n\r\nimport \"./List.css\"\r\nclass List extends Component {\r\n    state={\r\n        page:1,\r\n        limit:21,\r\n        contentlist:[],\r\n        noMoreData:false,\r\n    }\r\n    componentDidMount(){\r\n        this.pageGot=0\r\n        this.getVideoList()\r\n        // this.emitDebounced=debounce(this.getVideoList, 250)\r\n    }\r\n    // componentWillUnmount(){\r\n    //     this.emitDebounced.cancel()\r\n    // }\r\n    getVideoList=()=>{\r\n        const {type, tag}=this.props\r\n        const {page, limit}=this.state\r\n        if(page>this.pageGot){\r\n            // console.log(page,this.pageGot);\r\n            this.pageGot=this.pageGot+1\r\n            axios.get(`/video/list?type=${type}&tag=${tag}&page=${page}&limit=${limit}`).then(res=>{\r\n                let {contentlist, page}=this.state\r\n                if(res.data.length>0){\r\n                    this.setState({contentlist:[...contentlist,...res.data],page:page+1})\r\n                }else{\r\n                    this.setState({noMoreData:true})\r\n                }\r\n            })\r\n        }\r\n        \r\n    }\r\n    coverImgFail=(event)=>{\r\n        let src=event.target.src\r\n        const index=src.lastIndexOf(\".\")\r\n        const ext=src.slice(index+1,)\r\n        console.log(ext);\r\n        if(ext===\"webp\"){\r\n            event.target.src=src.slice(0,index+1)+\"jpg\"\r\n        }else if(ext===\"jpg\"){\r\n            event.target.src=src.slice(0,index+1)+\"png\"\r\n        }else{\r\n            event.target.src=\"/imgs/defaultCover.jpg\"\r\n        }\r\n    }\r\n    listScroll=(event)=>{\r\n        let { scrollTop, offsetHeight, scrollHeight }=event.target//this.listWraperNode//\r\n        let bottomHeight=scrollHeight-offsetHeight-scrollTop\r\n        if(!this.state.noMoreData && bottomHeight<500){\r\n            // this.emitDebounced()\r\n            this.getVideoList()\r\n        }\r\n    }\r\n    intoPlayer=(content)=>{\r\n        const {_id:id, bundleName, bundleSize, type}=content\r\n        // const {type}=this.props\r\n        this.props.history.push(\"/playpage\",{id,bundleName,type,bundleSize})\r\n    }\r\n    render() {\r\n        const {contentlist}=this.state\r\n        return (\r\n            <div className=\"listWraper\" onScroll={this.listScroll} ref={listWraperNode=>this.listWraperNode=listWraperNode}>\r\n                <ul className=\"list\" >\r\n                    {\r\n                        contentlist.map(content=>{\r\n                            return(\r\n                                <li className=\"list_item\" onClick={()=>{this.intoPlayer(content)}} key={content._id}>\r\n                                    <img className=\"coverImg\" src={`/imgs/${content.type}/${content.bundleName}.webp`} onError={this.coverImgFail} alt=\"\" />\r\n                                    <p className=\"ellipsis videoName\">{content.bundleName}</p>\r\n                                </li>\r\n                            )\r\n                        })\r\n                        \r\n                    }\r\n\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(List)\r\n","import React, { Component } from 'react'\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport SwiperCore, { Thumbs , Navigation} from 'swiper/core';\r\nimport 'swiper/swiper.scss';\r\n// import 'swiper/components/pagination/pagination.scss';, Pagination\r\nimport 'swiper/components/navigation/navigation.scss';\r\nimport List from '../../components/List/List';\r\nimport \"./Video.css\"\r\nSwiperCore.use([Thumbs, Navigation]);\r\n\r\n\r\nexport default class Video extends Component {\r\n    state={\r\n        activeIndex:0,//哪个tag需要被高亮\r\n        thumbsSwiper:null,\r\n    }\r\n    // clickTab=(index)=>{\r\n    //     this.mainSwiper.slideTo(index)\r\n    // }\r\n    render() {\r\n        const {activeIndex, thumbsSwiper}=this.state\r\n        const {type ,tags, tagsCN}=this.props\r\n        return (\r\n            <div className=\"videoWraper\">\r\n                {/* <div className=\"tagNav\">\r\n                    {\r\n                        tags.map((tag, index) => {\r\n                            return (\r\n                                <button\r\n                                key={index} \r\n                                onClick={() => { this.clickTab(index) }} \r\n                                className={index === activeIndex ? \"tag tagOn\" : \"tag\"} \r\n                                >\r\n                                    {tagsCN[tag]}\r\n                                </button>)\r\n                        })\r\n                    }\r\n                </div> */}\r\n                <Swiper \r\n                className=\"tagNav\"\r\n                onSwiper={thumbsSwiper=>{this.setState({thumbsSwiper})}}\r\n                watchSlidesVisibility={true}\r\n                watchSlidesProgress={true}\r\n                spaceBetween={10}\r\n                slidesPerView={4.8}\r\n                // navigation\r\n                >\r\n                    {\r\n                        tags.map((tag,index)=>{\r\n                            return (<SwiperSlide \r\n                                key={index} \r\n                                className={index === activeIndex ? \"tag tagOn\" : \"tag\"} \r\n                                >{tagsCN[tag]}</SwiperSlide>)\r\n                        })\r\n                    }\r\n                </Swiper>\r\n\r\n                <Swiper\r\n                    className=\"videoSwiper\"\r\n                    spaceBetween={10}\r\n                    slidesPerView={1}\r\n                    onSlideChange={(swiper) => this.setState({ activeIndex: swiper.activeIndex })}\r\n                    // onSwiper={mainSwiper => { this.mainSwiper=mainSwiper }}\r\n                    thumbs={{ swiper: thumbsSwiper }}\r\n                >\r\n                    {\r\n                        tags.map((tag, index) => {\r\n                            return (<SwiperSlide key={index} style={{ overflow: \"auto\" }} className=\"list_slide\">\r\n                                <List tag={tag} type={type} />\r\n                            </SwiperSlide>)\r\n                        })\r\n                    }\r\n                </Swiper>\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport Video from '../../components/Video/Video'\r\n// import \"./Movie.css\"\r\nlet  allTags =require(\"../../allTags\")\r\n\r\nexport default class Movie extends Component {\r\n\r\n    render() {\r\n        const {movieTags, movieTagsCN}=allTags\r\n        if(movieTags[0]!==\"All\"){\r\n            movieTags.unshift(\"All\")\r\n            movieTagsCN[\"All\"]=\"全部\"\r\n        }\r\n        const type=\"Movies\"\r\n        return (\r\n            <Video type={type} tags={movieTags} tagsCN={movieTagsCN} />\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport Video from '../../components/Video/Video'\r\nlet  allTags =require(\"../../allTags\")\r\n\r\nexport default class Tv extends Component {\r\n    render() {\r\n        const {tvTags, tvTagsCN}=allTags\r\n        if(tvTags[0]!==\"All\"){\r\n            tvTags.unshift(\"All\")\r\n            tvTagsCN[\"All\"]=\"全部\"\r\n        }\r\n        const type=\"Tvs\"\r\n        return (\r\n            <Video type={type} tags={tvTags} tagsCN={tvTagsCN} />\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport Video from '../../components/Video/Video'\r\n// import \"./Animation.css\"\r\nlet  allTags =require(\"../../allTags\")\r\n\r\nexport default class Animation extends Component {\r\n    render() {\r\n        const {animationTags, animationTagsCN}=allTags\r\n        if(animationTags[0]!==\"All\"){\r\n            animationTags.unshift(\"All\")\r\n            animationTagsCN[\"All\"]=\"全部\"\r\n        }\r\n        const type=\"Animations\"\r\n        return (\r\n            <Video type={type} tags={animationTags} tagsCN={animationTagsCN} />\r\n        )\r\n    }\r\n}","/**\r\n * EpisodeList.js\r\n *\r\n * This is just a plain ol' React component.\r\n * the vjsComponent methods, player methods etc. are available via\r\n * the vjsComponent prop (`this.props.vjsComponent`)\r\n */\r\nimport React, { Component,  } from 'react';//PropTypes\r\nimport ReactDOM from 'react-dom';\r\nimport videojs from 'video.js';\r\nimport pubsub from \"pubsub-js\"\r\nimport \"./EpisodeList.css\"\r\n\r\nclass EpisodeList extends Component {\r\n    state={\r\n        isShow:false,\r\n        e:1,\r\n        s:1\r\n    }\r\n    componentDidMount(){\r\n        pubsub.subscribe(\"sete_inline\",this.sete_inline)\r\n        pubsub.subscribe(\"toggleList\",this.toggleList)\r\n    }\r\n    componentWillUnmount(){\r\n        pubsub.unsubscribe(\"sete_inline\")\r\n        pubsub.unsubscribe(\"toggleList\")\r\n    }\r\n    sete_inline=(_,se_info)=>{\r\n        this.setState({e: se_info.e, s: se_info.s})\r\n    }\r\n    startep_local=(i)=>{\r\n        const { startep } = this.props.body\r\n        startep(null,{s:this.state.s,e:i+1})\r\n        this.setState({isShow:false, e:i+1})\r\n    }\r\n    toggleList=(_,newisShow)=>{\r\n        if(newisShow===\"auto\"){\r\n            this.setState({isShow:!this.state.isShow})\r\n        }else{\r\n            this.setState({isShow:newisShow})\r\n        }\r\n    }\r\n    render() {\r\n        const { bundleSize } = this.props.body\r\n        let chapters = []\r\n        for (let i = 0; i < bundleSize[\"season_\" + this.state.s]; i++) {\r\n            chapters.push(\r\n                <li className={this.state.e===(i+1) ? \"epLi epLi_active\" : \"epLi\"} onClick={()=>this.startep_local(i)} key={i}>{i<9 ? \"0\"+(i+1) : (i+1)}</li>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"epUlWarper\" style={{display: this.state.isShow ? \"block\" : \"none\"}}>\r\n                <ul className=\"epUl\">{chapters}</ul>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * vjsEpisodeList.js\r\n * Here is where we register a Video JS Component and\r\n * mount the React component to it when the player is ready.\r\n */\r\n//  import EpisodeList from './EpisodeList';\r\n\r\n\r\nconst vjsComponent = videojs.getComponent('Component');\r\n\r\nclass vjsEpisodeList extends vjsComponent {\r\n\r\n    constructor(player, options) {\r\n        super(player, options);\r\n        this.data = options\r\n        /* Bind the current class context to the mount method */\r\n        this.mount = this.mount.bind(this);\r\n\r\n        /* When player is ready, call method to mount React component */\r\n        player.ready(() => {\r\n            this.mount();\r\n        });\r\n\r\n        /* Remove React root when component is destroyed */\r\n        this.on(\"dispose\", () => {\r\n            ReactDOM.unmountComponentAtNode(this.el())\r\n        });\r\n    }\r\n\r\n    /**\r\n     * We will render out the React EpisodeList component into the DOM element\r\n     * generated automatically by the VideoJS createEl() method.\r\n     *\r\n     * We fetch that generated element using `this.el()`, a method provided by the\r\n     * vjsComponent class that this class is extending.\r\n     */\r\n    mount() {\r\n        ReactDOM.render(<EpisodeList vjsComponent={this} body={this.data} />, this.el());\r\n    }\r\n}\r\n\r\n/**\r\n * Make sure to register the vjsComponent so Video JS knows it exists\r\n */\r\nvjsComponent.registerComponent('vjsEpisodeList', vjsEpisodeList);\r\n\r\nexport default vjsEpisodeList;\r\n","/**\r\n * EpisodeList.js\r\n *\r\n * This is just a plain ol' React component.\r\n * the vjsComponent methods, player methods etc. are available via\r\n * the vjsComponent prop (`this.props.vjsComponent`)\r\n */\r\nimport React, { Component,  } from 'react';//PropTypes\r\nimport ReactDOM from 'react-dom';\r\nimport videojs from 'video.js';\r\nimport pubsub from \"pubsub-js\"\r\nimport \"./EpisodeButton.css\"\r\n\r\nclass EpisodeButton extends Component {\r\n    state={\r\n        isShow:false,\r\n    }\r\n    // sete_inline=(_,e)=>{\r\n    //     this.setState({e})\r\n    // }\r\n    toggleList_local=()=>{\r\n        pubsub.publish(\"toggleList\",\"auto\")\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"epList\" onClick={this.toggleList_local}>\r\n                <button className=\"epMenu\">列表</button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * vjsEpisodeList.js\r\n * Here is where we register a Video JS Component and\r\n * mount the React component to it when the player is ready.\r\n */\r\n//  import EpisodeList from './EpisodeList';\r\n\r\n\r\nconst vjsComponent = videojs.getComponent('Component');\r\n\r\nclass vjsEpisodeButton extends vjsComponent {\r\n\r\n    constructor(player, options) {\r\n        super(player, options);\r\n        /* Bind the current class context to the mount method */\r\n        this.mount = this.mount.bind(this);\r\n\r\n        /* When player is ready, call method to mount React component */\r\n        player.ready(() => {\r\n            this.mount();\r\n        });\r\n\r\n        /* Remove React root when component is destroyed */\r\n        this.on(\"dispose\", () => {\r\n            ReactDOM.unmountComponentAtNode(this.el())\r\n        });\r\n    }\r\n\r\n    /**\r\n     * We will render out the React EpisodeList component into the DOM element\r\n     * generated automatically by the VideoJS createEl() method.\r\n     *\r\n     * We fetch that generated element using `this.el()`, a method provided by the\r\n     * vjsComponent class that this class is extending.\r\n     */\r\n    mount() {\r\n        ReactDOM.render(<EpisodeButton vjsComponent={this} body={this.data} />, this.el());\r\n    }\r\n}\r\n\r\n/**\r\n * Make sure to register the vjsComponent so Video JS knows it exists\r\n */\r\nvjsComponent.registerComponent('vjsEpisodeButton', vjsEpisodeButton);\r\n\r\nexport default vjsEpisodeButton;\r\n","/**\r\n * EpisodeList.js\r\n *\r\n * This is just a plain ol' React component.\r\n * the vjsComponent methods, player methods etc. are available via\r\n * the vjsComponent prop (`this.props.vjsComponent`)\r\n */\r\nimport React, { Component,  } from 'react';//PropTypes\r\nimport ReactDOM from 'react-dom';\r\nimport videojs from 'video.js';\r\nimport \"./NextEpisode.css\"\r\n\r\nclass NextEpisode extends Component {\r\n    render() {\r\n        // console.log(this.props.body.nextep);\r\n        return (\r\n            <div className=\"nextepisode\" onClick={this.props.body.nextep}>\r\n                <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 99 99\">\r\n                    <polyline points=\"33 33 64 49.5 33 66\" fill=\"white\" />\r\n                    <line x1=\"66\" y1=\"33\" x2=\"66\" y2=\"66\" stroke=\"white\" strokeWidth=\"4\" />\r\n                </svg>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * vjsEpisodeList.js\r\n * Here is where we register a Video JS Component and\r\n * mount the React component to it when the player is ready.\r\n */\r\n//  import EpisodeList from './EpisodeList';\r\n\r\n\r\nconst vjsComponent = videojs.getComponent('Component');\r\n\r\nclass vjsNextEpisode extends vjsComponent {\r\n\r\n    constructor(player, options) {\r\n        super(player, options);\r\n        /* Bind the current class context to the mount method */\r\n        this.mount = this.mount.bind(this);\r\n        this.data = options\r\n        /* When player is ready, call method to mount React component */\r\n        player.ready(() => {\r\n            this.mount();\r\n        });\r\n\r\n        /* Remove React root when component is destroyed */\r\n        this.on(\"dispose\", () => {\r\n            ReactDOM.unmountComponentAtNode(this.el())\r\n        });\r\n    }\r\n\r\n    /**\r\n     * We will render out the React EpisodeList component into the DOM element\r\n     * generated automatically by the VideoJS createEl() method.\r\n     *\r\n     * We fetch that generated element using `this.el()`, a method provided by the\r\n     * vjsComponent class that this class is extending.\r\n     */\r\n    mount() {\r\n        ReactDOM.render(<NextEpisode vjsComponent={this} body={this.data} />, this.el());\r\n    }\r\n}\r\n\r\n/**\r\n * Make sure to register the vjsComponent so Video JS knows it exists\r\n */\r\nvjsComponent.registerComponent('vjsNextEpisode', vjsNextEpisode);\r\n\r\nexport default vjsNextEpisode;\r\n","import React, { Component } from 'react'\r\nimport \"./VjsMsg.css\"\r\n\r\nexport default class VjsMsg extends Component {\r\n    state={\r\n        msgShow:false,\r\n        msg:\"\",\r\n    }\r\n    vjsMsg=(msg,willEnd=false)=>{\r\n        if(msg===null){\r\n            let timer=setTimeout(()=>{\r\n                this.setState({msg:\"\",msgShow:false})\r\n                clearTimeout(timer)\r\n            },1000)\r\n        }else{\r\n            this.setState({msgShow:true,msg})\r\n            if(willEnd){\r\n                let timer=setTimeout(()=>{\r\n                    this.setState({msg:\"\",msgShow:false})\r\n                    clearTimeout(timer)\r\n                },1000)\r\n            }\r\n        }\r\n        \r\n    }\r\n    shouldComponentUpdate(_, nextState){//nextProps\r\n        const {msg, msgShow} = this.state\r\n        if(nextState.msgShow!==msgShow || nextState.msg!==msg){\r\n            return true\r\n        }else{\r\n            return false\r\n        }\r\n    }\r\n    render() {\r\n        const {msgShow, msg}=this.state\r\n        return (\r\n            <div className=\"vjsMsg\" style={{display:msgShow ? \"block\" : \"none\"}}>\r\n                {msg}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport videojs from 'video.js'\r\nimport 'video.js/dist/video-js.css'\r\nimport \"./VideoPlayer.css\"\r\nimport \"videojs-playlist/dist/videojs-playlist.es\"\r\nimport pubsub from \"pubsub-js\"\r\n// eslint-disable-next-line\r\nimport vjsEpisodeList from \"./EpisodeList/EpisodeList\"\r\n// eslint-disable-next-line\r\nimport vjsEpisodeButton from \"./EpisodeButton/EpisodeButton\"\r\n// eslint-disable-next-line\r\nimport vjsNextEpisode from \"./NextEpisode/NextEpisode\"\r\nimport VjsMsg from \"./VjsMsg/VjsMsg\"\r\n\r\n\r\nexport default class VideoPlayer extends Component {\r\n    state = {\r\n        s: 1,\r\n    }\r\n    create_allplaylist = () => {\r\n        let allplaylist = []\r\n        let { bundleSize, id, type } = this.props.videoInfo\r\n        let bundleKeys = Object.keys(bundleSize)\r\n        bundleKeys.forEach((key, index) => {\r\n            let list = []\r\n            for (let i = 0; i < bundleSize[key] * 1; i++) {\r\n                let item = {\r\n                    sources: [{\r\n                        src: `/video/getvideo?id=${id}&type=${type}&s=${index + 1}&e=${i + 1}`,\r\n                        type: 'video/mp4',\r\n                    }]\r\n                }\r\n                list.push(item)\r\n            }\r\n            allplaylist.push(list)\r\n        });\r\n        return allplaylist\r\n    }\r\n    startep = (_, data) => {\r\n        const { s } = this.state\r\n        if (data.s !== s) {\r\n            this.setState({ s: data.s })\r\n        }\r\n        if (this.player && this.player.playlist) {\r\n            if(data.e!==(this.player.playlist.currentItem()+1) || data.s!==s){\r\n                this.player.playlist.currentItem(data.e - 1)\r\n            }\r\n        }\r\n    }\r\n    nextep=()=>{\r\n        let s=this.state.s\r\n        let { bundleSize } = this.props.videoInfo\r\n        let maxe=bundleSize[Object.keys(bundleSize)[s-1]]\r\n        let e=this.player.playlist.currentItem() + 1\r\n        if(e<maxe){\r\n            let data={\r\n                s,\r\n                e:e+1,\r\n            }\r\n            this.startep(null,data)\r\n        }\r\n        \r\n    }\r\n    addSubs=(s,e)=>{\r\n        let { id, type } = this.props.videoInfo\r\n        this.currentsubs=this.player.addRemoteTextTrack({\r\n            src: `/video/getsubs?id=${id}&type=${type}&s=${s}&e=${e}`,\r\n            default:true,\r\n            label:\"中文\",\r\n            mode: 'showing',\r\n        },true)\r\n    }\r\n    togglePlay=(e)=>{\r\n        if(this.player.paused()){\r\n            this.player.play()\r\n        }else{\r\n            this.player.pause()\r\n        }\r\n    }\r\n    touchend=(event)=>{\r\n        let {startX, player, moveDirection}=this\r\n        if(moveDirection!==0){\r\n            let endPoint=event.changedTouches[0]\r\n            const {clientX:endX}=endPoint\r\n            let Dx=endX-startX\r\n            // let Dy=endY-prevY\r\n            if(moveDirection===1){\r\n                //x方向\r\n                if(Math.abs(Dx)>20){\r\n                    let newtime=player.currentTime()+0.05*Dx\r\n                    newtime=newtime>0 ? newtime : 0\r\n                    player.currentTime(newtime)\r\n                    if(Dx>0){\r\n                        this.vjsNode.vjsMsg(`前进${parseInt(0.05*Dx)}秒`,true)\r\n                    }else{\r\n                        this.vjsNode.vjsMsg(`后退${-parseInt(0.05*Dx)}秒`,true)\r\n                    }\r\n                }else{\r\n                    this.vjsNode.vjsMsg(null,true)\r\n                }\r\n            }else if(moveDirection===2){\r\n                //y方向 \r\n                this.vjsNode.vjsMsg(null,true)\r\n            }\r\n        }else{\r\n            pubsub.publish(\"toggleList\",false)\r\n        }\r\n    }\r\n    touchmove=(event)=>{\r\n        let {startX, lastMoveX, lastMoveY, player, moveDirection}=this\r\n        let movePoint=event.changedTouches[0]\r\n        const {clientX:moveX, clientY:moveY}=movePoint\r\n        let dx=moveX-lastMoveX//>0向右\r\n        let dy=moveY-lastMoveY//>0向上\r\n        let absx=Math.abs(dx)\r\n        let absy=Math.abs(dy)\r\n        let Dx=moveX-startX\r\n        // let Dy=moveY-prevY\r\n        if(moveDirection===0){\r\n            this.moveDirection=(absx>=absy ? 1 : 2)//1表示x方向, 2表示y,0 表示没有方向\r\n        }\r\n        if(moveDirection===1){\r\n            //x方向移动\r\n            if(Dx>=0){\r\n                this.vjsNode.vjsMsg(`前进${parseInt(0.05*Dx)}秒`)\r\n            }else{\r\n                this.vjsNode.vjsMsg(`后退${-parseInt(0.05*Dx)}秒`)\r\n            }\r\n            \r\n        }else if(moveDirection===2){\r\n            //y方向移动\r\n            let newvolume=player.volume()-0.005*dy\r\n            if(newvolume>1){\r\n                newvolume=1\r\n            }else if(newvolume<0){\r\n                newvolume=0\r\n            }\r\n            player.volume(newvolume)\r\n            this.vjsNode.vjsMsg(`音量${parseInt(newvolume*100)}%`,false)\r\n        }\r\n        this.lastMoveX=moveX\r\n        this.lastMoveY=moveY\r\n    }\r\n    touchstart=(event)=>{\r\n        if(this.prevTime){\r\n            if(this.moveDirection===0){\r\n                //没有方向移动\r\n                let currTime=(new Date()).getTime()\r\n                let startPoint=event.changedTouches[0]\r\n                let startX=startPoint.clientX\r\n                let startY=startPoint.clientY\r\n                if(\r\n                currTime-this.prevTime<500 &&\r\n                Math.abs(startX-this.startX)<50 &&\r\n                Math.abs(startY-this.startY)<50\r\n                ){\r\n                    this.togglePlay()\r\n                }\r\n            }\r\n            \r\n        }\r\n        this.prevTime=(new Date()).getTime()\r\n        this.startPoint=event.changedTouches[0]\r\n        this.lastMoveX=this.startX=this.startPoint.clientX\r\n        this.lastMoveY=this.startY=this.startPoint.clientY\r\n        this.moveDirection=0\r\n\r\n    }\r\n    componentDidMount() {\r\n        let that = this\r\n        this.allplaylist = this.create_allplaylist()\r\n        let { s } = this.state\r\n        const {addSubs , startep, nextep}=this\r\n        let videoJsOptions = {\r\n            autoplay: true,\r\n            controls: true,\r\n            // fluid: true,\r\n            preLoad:true,\r\n\r\n        }\r\n        this.player = videojs(this.videoNode, videoJsOptions, function onPlayerReady() {\r\n            this.playlist(that.allplaylist[s - 1])\r\n            this.playlist.autoadvance(0);\r\n            let rotatezoom=()=>{\r\n                let vh=this.videoHeight()*1\r\n                let vw=this.videoWidth()*1\r\n                let fullscreen=this.isFullscreen()\r\n                if(!fullscreen){\r\n                    that.videoNode.style['transform']='rotate(0deg) scale(1)'\r\n                    if(vh<=vw){\r\n                        this.height(vh/vw*this.currentWidth())\r\n                    }else{\r\n                        this.height(window.screen.availHeight-300)\r\n                    }\r\n                }else{\r\n                    if(vh<=vw){\r\n                        that.videoNode.style['transform']='rotate(0deg) scale(1)'\r\n                    }else{\r\n                        that.videoNode.style['transform']='rotate(270deg) scale('+(vh/vw)+')'\r\n                    }\r\n                }\r\n            }\r\n            this.on('fullscreenchange',()=>{\r\n                rotatezoom()\r\n            })\r\n\r\n            this.on('loadedmetadata',()=>{\r\n                rotatezoom()\r\n            })\r\n            this.on(\"firstplay\", () => {\r\n                let e = this.playlist.currentItem() + 1\r\n                let { s } = that.state\r\n                pubsub.publish(\"sete\", e)\r\n                pubsub.publish(\"sete_inline\", {s,e})\r\n                addSubs(s,e)\r\n                //设置字幕样式\r\n                var settings = this.textTrackSettings;\r\n                settings.setValues({\r\n                    // \"backgroundColor\": \"rgb(66, 54, 54)\",\r\n                    \"backgroundOpacity\": \"0\",\r\n                    \"edgeStyle\": \"dropshadow\",\r\n                });\r\n                settings.updateDisplay();\r\n            })\r\n            pubsub.subscribe(\"startep\", startep)\r\n            this.getChild('controlBar').addChild(\"vjsEpisodeButton\", {}, 10);\r\n            this.getChild('controlBar').addChild(\"vjsNextEpisode\", {nextep}, 1);\r\n            this.addChild(\"vjsEpisodeList\", {\r\n                s,\r\n                startep,\r\n                bundleSize: that.props.videoInfo.bundleSize,\r\n            });\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        pubsub.unsubscribe(\"startep\")\r\n        if (this.player) {\r\n            this.player.dispose()\r\n        }\r\n        \r\n    }\r\n    render() {\r\n        if (this.player && this.player.playlist) {\r\n            this.player.playlist(this.allplaylist[this.state.s - 1])\r\n        }\r\n        return (\r\n            <div className=\"vjs-wraper\">\r\n                <div data-vjs-player >\r\n                    <VjsMsg ref={node=>this.vjsNode=node} />\r\n                    <video \r\n                    ref={node => this.videoNode = node} \r\n                    className=\"video-js\" \r\n                    onTouchEnd={this.touchend} \r\n                    onTouchStart={this.touchstart} \r\n                    onTouchMove={this.touchmove}\r\n                    ></video>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\n\r\n","import React, { Component } from 'react'\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport 'swiper/swiper.scss';\r\nimport pubsub from \"pubsub-js\"\r\nimport \"./ButtonSE.css\"\r\n\r\n\r\nexport default class ButtonSE extends Component {\r\n    state={\r\n        s_swift:1,\r\n        e:1,\r\n        s:1,\r\n    }\r\n    sete=(_,e)=>{\r\n        this.setState({e})\r\n    }\r\n    componentDidMount(){\r\n        pubsub.subscribe(\"sete\",this.sete)\r\n    }\r\n    componentWillUnmount(){\r\n        pubsub.unsubscribe(\"sete\")\r\n    }\r\n    create_s_e=()=>{\r\n        let { type, bundleSize } = this.props.videoInfo\r\n        const seasonCN=[\"第一季\",\"第二季\",\"第三季\",\"第四季\",\"第五季\",\"第六季\",\"第七季\",\"第八季\",\"第九季\",\"第十季\",\"第十一季\",\"第十二季\",\"第十三季\",\"第十四季\",\"第十五季\"]\r\n        const partCN=[\"第一部\",\"第二部\",\"第三部\",\"第四部\",\"第五部\",\"第六部\",\"第七部\",\"第八部\",\"第九部\",\"第十部\",\"第十一部\",\"第十二部\",\"第十三部\",\"第十四部\",\"第十五部\"]\r\n        let s_name=[]\r\n        let s_e=[]\r\n        let s_num=Object.keys(bundleSize).length\r\n        // console.log(bundleSize,bundleKeys);\r\n        if(s_num===1){\r\n            let list=[]\r\n            if(bundleSize['season_1']>1){\r\n                for (let i=0;i<bundleSize['season_1']; i++){\r\n                    if(type===\"Movies\"){\r\n                        list.push(partCN[i])\r\n                    }else{\r\n                        list.push(i+1)\r\n                    }\r\n                }\r\n            }\r\n            s_e.push(list)\r\n        }else{\r\n            for (let j=1; j<=s_num; j++){\r\n                s_name.push(seasonCN[j-1])\r\n                let list=[]\r\n                for (let i=0;i<bundleSize['season_'+j]*1; i++){\r\n                    list.push(i+1)\r\n                }\r\n                s_e.push(list)\r\n            }\r\n        }\r\n        this.s_e=s_e\r\n        this.s_name=s_name\r\n    }\r\n    createSwiper=(season,index1)=>{\r\n        const {s_swift, e, s}=this.state\r\n        return (\r\n            <Swiper \r\n            key={index1} \r\n            className=\"episode_swiper\"\r\n            style={{\"display\":((s_swift===(index1+1)) ? \"flex\" : \"none\")}}\r\n            spaceBetween={10}\r\n            slidesPerView={3.5}\r\n            observer={true}//修改swiper自己或子元素时，自动初始化swiper\r\n            observeParents={true}//修改swiper的父元素时，自动初始化swiper\r\n            >\r\n                {\r\n                    season.map((ep,index2)=>(\r\n                        <SwiperSlide\r\n                        key={index2}\r\n                        className={((e===(index2+1)) && (s===(index1+1))) ? \"active_e_slide episode_slide\" : \"episode_slide\"}\r\n                        onClick={()=>{\r\n                            // console.log(index1+1,s);\r\n                            return this.changeEpisode(index1,index2)\r\n                        }}\r\n                        >{ep}</SwiperSlide>\r\n                    ))\r\n                }\r\n            </Swiper>\r\n        )\r\n    }\r\n    changeSeason=(index)=>{\r\n        this.setState({s_swift:index+1})\r\n    }\r\n    changeEpisode=(index1, index2)=>{\r\n        let s=index1+1\r\n        let e=index2+1\r\n        this.setState({s,e,})\r\n        pubsub.publish(\"startep\",{s,e})\r\n    }\r\n    render() {\r\n        this.create_s_e()\r\n        const {s_swift}=this.state\r\n        return (\r\n            <div>\r\n                {this.s_e.map(this.createSwiper)}\r\n                <div style={{\"display\":(this.s_e.length>1 ? \"block\" : \"none\")}}>\r\n                    {this.s_name.map((name,index)=>(\r\n                        <button \r\n                        key={index}\r\n                        className={s_swift===(index+1) ? \"active_s_button season_button\" : \"season_button\"}\r\n                        onClick={()=>this.changeSeason(index)}\r\n                        >{name}</button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport \"./PlayPage.css\"\r\nimport VideoPlayer from \"../../components/VideoPlayer/VideoPlayer\"\r\nimport ButtonSE from '../../components/ButtonSE/ButtonSE'\r\n\r\nexport default class PlayPage extends Component {\r\n    render() {\r\n        let videoInfo=this.props.location.state\r\n        if(!videoInfo){\r\n            this.props.history.push(\"/movie\")\r\n        }else{\r\n            return (\r\n                <div className=\"playpage\">\r\n                    <h1 className=\"topVideoName\">{videoInfo.bundleName}</h1>\r\n                    <VideoPlayer videoInfo={videoInfo} />\r\n                    <ButtonSE videoInfo={videoInfo} />\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport {Route, NavLink, Redirect, withRouter} from \"react-router-dom\"\r\nimport CacheRoute, { CacheSwitch } from 'react-router-cache-route'\r\n\r\nimport \"./App.css\"\r\nimport SearchWraper from './components/SearchWraper/SearchWraper'\r\nimport Search from './paths/Search/Search'\r\nimport Movie from './paths/Movie/Movie'\r\nimport Tv from \"./paths/Tv/Tv\"\r\nimport Animation from \"./paths/Animation/Animation\"\r\nimport PlayPage from './paths/PlayPage/PlayPage'\r\n\r\n\r\nclass app extends Component {\r\n    render() {\r\n        let currentPath=this.props.location.pathname\r\n        const noTabPaths=[\"/playpage\", \"/search\"]\r\n        let hide=noTabPaths.findIndex(path=>path===currentPath)>=0\r\n        return (\r\n            <div className=\"app\">\r\n                <div className=\"appWraper\">\r\n                    { !hide ? <SearchWraper /> : \"\"}\r\n                    { !hide ?\r\n                    (<div className=\"nav\">\r\n                        <NavLink className=\"link\" activeClassName=\"linkActive\" to=\"/movie\">电影</NavLink>\r\n                        <NavLink className=\"link\" activeClassName=\"linkActive\" to=\"/animation\">动漫</NavLink>\r\n                        <NavLink className=\"link\" activeClassName=\"linkActive\" to=\"/tv\">电视剧</NavLink>\r\n                    </div>) :\r\n                    \"\"\r\n                    }\r\n                    <CacheSwitch>\r\n                        <Route path=\"/movie\" component={Movie}/>\r\n                        <Route path=\"/animation\" component={Animation}/>\r\n                        <Route path=\"/tv\" component={Tv}/>\r\n                        <Route path=\"/playpage\" component={PlayPage}/>\r\n                        <CacheRoute className=\"searchCacheRoute\" path=\"/search\" component={Search} />\r\n                        <Redirect to=\"/movie\" />\r\n                    </CacheSwitch>\r\n                    \r\n                </div>\r\n                \r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nexport default withRouter(app)","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport { BrowserRouter } from \"react-router-dom\"\r\nimport App from \"./App\"\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <App />\r\n    </BrowserRouter>,\r\n    document.getElementById(\"root\")\r\n)","// exports.movieTags = [\"Action\", \"Fiction\", \"Love\", \"Fantasy\", \"Comedy\", \"Horror\", \"Adventure\",\"Disaster\",\"Realistic\", \"Samurai\", \"West\"]\r\n// exports.animationTags=[\"Fiction\",\"Robot\",\"Theatrical\",\"Harem\",\"Funny\",\"WarmBlood\",\"Daily\",\"Battle\",\"Reasoning\",\"Cure\",\"CauseDepression\",\"Campus\",\"Original\",\"Adaptation\"]\r\n// exports.tvTags=[\"Chinese\",\"US_EU\",\"Korean\"]\r\nlet movieTagsCN={ \r\n    Action: \"动作\", \r\n    Fiction:\"科幻\",\r\n    Love:\"爱情\",\r\n    Fantasy: \"奇幻\",\r\n    Comedy: \"喜剧\",\r\n    Horror: \"恐怖\",\r\n    Adventure: \"冒险\", \r\n    Disaster:\"灾难\",\r\n    Realistic:\"现实\", \r\n    Samurai:\"武士\", \r\n    West:\"西部\"\r\n}\r\n\r\nlet animationTagsCN={\r\n    \"Fiction\":\"科幻\",\r\n    \"Robot\":\"机战\",\r\n    \"Theatrical\":\"剧场\",\r\n    \"Harem\":\"后宫\",\r\n    \"Funny\":\"搞笑\",\r\n    \"WarmBlood\":\"热血\",\r\n    \"Daily\":\"日常\",\r\n    \"Battle\":\"战斗\",\r\n    \"Reasoning\":\"推理\",\r\n    \"Cure\":\"治愈\",\r\n    \"CauseDepression\":\"致郁\",\r\n    \"Campus\":\"校园\",\r\n    // \"Workplace\":\"职场\",,\"Workplace\"\r\n    // \"Music\":\"音乐\",\r\n    // \"DeliciousFood\":\"美食\",\"Music\",\"DeliciousFood\",\r\n    \"Original\":\"原创\",\r\n    \"Adaptation\":\"改编\", \r\n}\r\n\r\nlet tvTagsCN={\r\n    \"Chinese\":\"国产\",\r\n    \"US_EU\":\"欧美\",\r\n    \"Korean\":\"日韩\",\r\n}\r\n\r\nexports.movieTagsCN=movieTagsCN\r\nexports.movieTags=Object.keys(movieTagsCN)\r\nexports.animationTagsCN=animationTagsCN\r\nexports.animationTags=Object.keys(animationTagsCN)\r\nexports.tvTagsCN=tvTagsCN\r\nexports.tvTags=Object.keys(tvTagsCN)"],"sourceRoot":""}