(this.webpackJsonpvideo_client_pc=this.webpackJsonpvideo_client_pc||[]).push([[0],{103:function(e,t){},123:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var a=n(3),s=n(23),i=n.n(s),c=n(21),o=n(7),r=n(8),l=n(9),u=n(10),d=n(13),h=(n(67),n(11)),p=n.n(h),f=(n(69),n(1)),m=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={videoList:[]},e.changeList=function(t,n){e.setState({videoList:n})},e.intoPlayer=function(t){var n=t._id,a=t.bundleSize,s=t.type;e.props.history.push("/playpage",{id:n,type:s,bundleSize:a})},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){p.a.subscribe("changeList",this.changeList)}},{key:"componentWillUnmount",value:function(){p.a.unsubscribe("changeList")}},{key:"render",value:function(){var e=this,t=this.state.videoList,n={Movies:"\u7535\u5f71",Animations:"\u52a8\u6f2b",Tvs:"\u7535\u89c6\u5267"};return Object(f.jsx)("ul",{className:"search_list",children:0===t.length?Object(f.jsx)("p",{className:"search_list_none",children:"\u6ca1\u6709\u76f8\u5173\u4fe1\u606f"}):t.map((function(t){return Object(f.jsxs)("li",{className:"search_list_item",onClick:function(){e.intoPlayer(t)},children:[Object(f.jsx)("span",{className:"search_result_name",children:t.bundleName}),Object(f.jsx)("span",{className:"search_result_type",children:n[t.type]})]},t._id)}))})}}]),n}(a.Component),v=Object(d.f)(m),j=n(14),b=n.n(j),g=(n(93),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).pressEnter=function(t){13===t.keyCode&&e.search()},e.search=function(){var t=e.inputNode.value;e.inputNode.blur(),b.a.get("/video/search?keywords=".concat(t)).then((function(t){e.props.history.push("/search"),p.a.publish("changeList",t.data)}))},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return Object(f.jsx)("div",{className:"searchButton",children:Object(f.jsxs)("div",{className:"searchButton_outer",children:[Object(f.jsx)("input",{className:"searchButton_input",placeholder:"\u8f93\u5165\u5185\u5bb9\u8fdb\u884c\u641c\u7d22",onKeyDown:this.pressEnter,ref:function(t){return e.inputNode=t}}),Object(f.jsx)("span",{className:"searchButton_icon",onClick:this.search})]})})}}]),n}(a.Component)),y=Object(d.f)(g),O=n(43),k=n(16),N=(n(94),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={page:1,limit:30,contentlist:[],noMoreData:!1},e.getNextVideoList=function(){var t=Object(k.a)(e),n=t.type,a=t.tag,s=e.state,i=s.page,c=s.limit;i>e.pageGot&&(e.pageGot=e.pageGot+1,b.a.get("/video/list?type=".concat(n,"&tag=").concat(a,"&page=").concat(i,"&limit=").concat(c)).then((function(t){var n=e.state,a=n.contentlist,s=n.page;t.data.length>0?e.setState({contentlist:[].concat(Object(O.a)(a),Object(O.a)(t.data)),page:s+1}):e.setState({noMoreData:!0})})))},e.getVideoList=function(t,n){var a=n.type,s=n.tag,i=e.state.limit;e.type=a,e.tag=s,e.pageGot=1,b.a.get("/video/list?type=".concat(a,"&tag=").concat(s,"&page=",1,"&limit=").concat(i)).then((function(t){t.data.length>0?e.setState({contentlist:t.data,page:2}):e.setState({noMoreData:!0})}))},e.listScroll=function(t){var n=t.target,a=n.scrollTop,s=n.offsetHeight,i=n.scrollHeight-s-a;!e.state.noMoreData&&i<500&&e.getNextVideoList()},e.intoPlayer=function(t){var n=t._id,a=t.bundleName,s=t.bundleSize,i=t.type;e.props.history.push("/playpage",{id:n,bundleName:a,type:i,bundleSize:s})},e.coverImgFail=function(e){var t=e.target.src,n=t.lastIndexOf("."),a=t.slice(n+1);console.log(a),e.target.src="webp"===a?t.slice(0,n+1)+"jpg":"jpg"===a?t.slice(0,n+1)+"png":"/imgs/defaultCover.jpg"},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){p.a.subscribe("getVideoList",this.getVideoList)}},{key:"componentWillUnmount",value:function(){p.a.unsubscribe("getVideoList")}},{key:"render",value:function(){var e=this,t=this.state.contentlist;return Object(f.jsx)("div",{className:"listWraper",onScroll:this.listScroll,ref:function(t){return e.listWraperNode=t},children:Object(f.jsx)("ul",{className:"list",children:t.map((function(t){return Object(f.jsxs)("li",{className:"list_item",onClick:function(){e.intoPlayer(t)},children:[Object(f.jsx)("img",{className:"coverImg",src:"/imgs/".concat(t.type,"/").concat(t.bundleName,".webp"),onError:e.coverImgFail,alt:""}),Object(f.jsx)("p",{title:t.bundleName,className:"ellipsis videoName",children:t.bundleName})]},t._id)}))})})}}]),n}(a.Component)),w=Object(d.f)(N),x=(n(95),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={activeIndex:0},e.clickTab=function(t){e.setState({activeIndex:t});var n=e.props,a=n.type,s=n.tags;p.a.publish("getVideoList",{type:a,tag:s[t]})},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.type,n=e.tags;p.a.publish("getVideoList",{type:t,tag:n[0]})}},{key:"render",value:function(){var e=this,t=this.state.activeIndex,n=this.props,a=n.type,s=n.tags,i=n.tagsCN;return Object(f.jsxs)("div",{className:"videoWraper",children:[Object(f.jsx)("div",{className:"tagNav",children:s.map((function(n,a){return Object(f.jsx)("span",{onClick:function(){e.clickTab(a)},className:a===t?"tag tagOn":"tag",children:i[n]},a)}))}),Object(f.jsx)("div",{className:"videoMain",children:Object(f.jsx)(w,{tag:s[t],type:a})})]})}}]),n}(a.Component)),_=n(34),D=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=_.movieTags,t=_.movieTagsCN;"All"!==e[0]&&(e.unshift("All"),t.All="\u5168\u90e8");return Object(f.jsx)(x,{type:"Movies",tags:e,tagsCN:t})}}]),n}(a.Component),C=n(34),L=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=C.tvTags,t=C.tvTagsCN;"All"!==e[0]&&(e.unshift("All"),t.All="\u5168\u90e8");return Object(f.jsx)(x,{type:"Tvs",tags:e,tagsCN:t})}}]),n}(a.Component),S=n(34),E=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=S.animationTags,t=S.animationTagsCN;"All"!==e[0]&&(e.unshift("All"),t.All="\u5168\u90e8");return Object(f.jsx)(x,{type:"Animations",tags:e,tagsCN:t})}}]),n}(a.Component),I=(n(96),n(22)),A=(n(122),n(123),n(124),n(125),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={isShow:!1,e:1},e.sete_inline=function(t,n){e.setState({e:n})},e.startep_local=function(t){var n=e.props.body;(0,n.startep)(null,{s:n.s,e:t+1}),e.setState({isShow:!1,e:t+1})},e.toggleList=function(t){"auto"===t?e.setState({isShow:!e.state.isShow}):e.setState({isShow:t})},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){p.a.subscribe("sete_inline",this.sete_inline)}},{key:"componentWillUnmount",value:function(){p.a.unsubscribe("sete_inline")}},{key:"render",value:function(){for(var e=this,t=this.props.body,n=t.bundleSize,a=t.s,s=[],i=function(t){s.push(Object(f.jsx)("li",{className:e.state.e===t+1?"epLi epLi_active":"epLi",onClick:function(){return e.startep_local(t)},children:t<9?"0"+(t+1):t+1},t))},c=0;c<n["season_"+a];c++)i(c);return Object(f.jsxs)("div",{className:"epList",onMouseEnter:function(){e.toggleList(!0)},onMouseLeave:function(){e.toggleList(!1)},children:[Object(f.jsx)("button",{className:"epMenu",onClick:function(){e.toggleList("auto")},children:"\u5217\u8868"}),Object(f.jsx)("div",{className:"epUlWarper",style:{display:this.state.isShow?"block":"none"},children:Object(f.jsx)("ul",{className:"epUl",children:s})})]})}}]),n}(a.Component)),M=I.a.getComponent("Component"),U=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e,a){var s;return Object(o.a)(this,n),(s=t.call(this,e,a)).data=a,s.mount=s.mount.bind(Object(k.a)(s)),e.ready((function(){s.mount()})),s.on("dispose",(function(){i.a.unmountComponentAtNode(s.el())})),s}return Object(r.a)(n,[{key:"mount",value:function(){i.a.render(Object(f.jsx)(A,{vjsComponent:this,body:this.data}),this.el())}}]),n}(M);M.registerComponent("vjsEpisodeButton",U);n(126);var T=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(f.jsx)("div",{className:"nextepisode",onClick:this.props.body.nextep,children:Object(f.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 99 99",children:[Object(f.jsx)("polyline",{points:"33 33 64 49.5 33 66",fill:"white"}),Object(f.jsx)("line",{x1:"66",y1:"33",x2:"66",y2:"66",stroke:"white",strokeWidth:"4"})]})})}}]),n}(a.Component),W=I.a.getComponent("Component"),P=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e,a){var s;return Object(o.a)(this,n),(s=t.call(this,e,a)).mount=s.mount.bind(Object(k.a)(s)),s.data=a,e.ready((function(){s.mount()})),s.on("dispose",(function(){i.a.unmountComponentAtNode(s.el())})),s}return Object(r.a)(n,[{key:"mount",value:function(){i.a.render(Object(f.jsx)(T,{vjsComponent:this,body:this.data}),this.el())}}]),n}(W);W.registerComponent("vjsNextEpisode",P);n(127);var B=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={msgShow:!1,msg:""},e.vjsMsg=function(t){e.vcount?(console.log("update"),e.vcount++,e.setState({msgShow:!0,msg:t})):(console.log(e.vcount),e.vcount=1,e.vmark=1,e.setState({msgShow:!0,msg:t}),e.interval=setInterval((function(){e.vmark===e.vcount?(clearInterval(e.interval),e.setState({msg:"",msgShow:!1}),console.log("clear"),e.vcount=0):e.vmark=e.vcount}),500))},e}return Object(r.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.state,a=n.msg,s=n.msgShow;return t.msgShow!==s||t.msg!==a}},{key:"render",value:function(){var e=this.state,t=e.msgShow,n=e.msg;return Object(f.jsx)("div",{className:"vjsMsg",style:{display:t?"block":"none"},children:n})}}]),n}(a.Component),K=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={s:1},e.create_allplaylist=function(){var t=[],n=e.props.videoInfo,a=n.bundleSize,s=n.id,i=n.type;return Object.keys(a).forEach((function(e,n){for(var c=[],o=0;o<1*a[e];o++){var r={sources:[{src:"/video/getvideo?id=".concat(s,"&type=").concat(i,"&s=").concat(n+1,"&e=").concat(o+1),type:"video/mp4"}]};c.push(r)}t.push(c)})),t},e.startep=function(t,n){var a=e.state.s;n.s!==a&&e.setState({s:n.s}),e.player&&e.player.playlist&&(n.e===e.player.playlist.currentItem()+1&&n.s===a||e.player.playlist.currentItem(n.e-1))},e.nextep=function(){var t=e.state.s,n=e.props.videoInfo.bundleSize,a=n[Object.keys(n)[t-1]],s=e.player.playlist.currentItem()+1;if(s<a){var i={s:t,e:s+1};e.startep(null,i)}},e.addSubs=function(t,n){var a=e.props.videoInfo,s=a.id,i=a.type;e.currentsubs=e.player.addRemoteTextTrack({src:"/video/getsubs?id=".concat(s,"&type=").concat(i,"&s=").concat(t,"&e=").concat(n),default:!0,label:"\u4e2d\u6587",mode:"showing"},!0)},e.togglePlay=function(t){e.player.paused()?e.player.play():e.player.pause()},e.handlescroll=function(t){if(e.player.isFullscreen()){var n=t.nativeEvent.deltaY<0?1:-1;e.changevolume(n)}},e.changevolume=function(t){var n=e.player.volume()+.05*t;n>1?n=1:n<0&&(n=0),e.player.volume(n),e.vjsMsgNode.vjsMsg("\u97f3\u91cf".concat(parseInt(100*n),"%"))},e.hotkeypress=function(t){var n=t.keyCode,a=Object(k.a)(e).player;if(32===n)a.paused()?a.play():a.pause();else if(13===n)a.isFullscreen()?a.exitFullscreen():a.requestFullscreen();else if(37===n){var s=a.currentTime()-5;s=s>0?s:0,a.currentTime(s)}else if(39===n){var i=a.currentTime()+15;i=i>0?i:0,a.currentTime(i)}else 38===n?e.changevolume(1):40===n&&e.changevolume(-1)},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.allplaylist=this.create_allplaylist();var t=this.state.s,n=this.addSubs,a=this.startep,s=this.nextep;this.player=Object(I.a)(this.videoNode,{autoplay:!0,controls:!0,fluid:!0,preLoad:!0},(function(){var i=this;this.playlist(e.allplaylist[t-1]),this.playlist.autoadvance(0),this.on("firstplay",(function(){var a=i.playlist.currentItem()+1;p.a.publish("sete",a),p.a.publish("sete_inline",a),n(t,a);var s=i.textTrackSettings;s.setValues({backgroundOpacity:"0",edgeStyle:"dropshadow"}),s.updateDisplay(),e.videoNode.focus()})),p.a.subscribe("startep",a),this.getChild("controlBar").addChild("vjsEpisodeButton",{s:t,startep:a,bundleSize:e.props.videoInfo.bundleSize},10),this.getChild("controlBar").addChild("vjsNextEpisode",{nextep:s},1)}))}},{key:"componentWillUnmount",value:function(){p.a.unsubscribe("startep"),this.player&&this.player.dispose()}},{key:"render",value:function(){var e=this;return this.player&&this.player.playlist&&this.player.playlist(this.allplaylist[this.state.s-1]),Object(f.jsx)("div",{className:"vjs-wraper",onKeyDown:this.hotkeypress,children:Object(f.jsxs)("div",{"data-vjs-player":!0,children:[Object(f.jsx)(B,{ref:function(t){return e.vjsMsgNode=t}}),Object(f.jsx)("video",{ref:function(t){return e.videoNode=t},className:"video-js",onWheel:this.handlescroll})]})})}}]),n}(a.Component),F=(n(128),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={s_swift:1,e:1,s:1},e.sete=function(t,n){e.setState({e:n})},e.create_s_e=function(){var t=e.props.videoInfo,n=t.type,a=t.bundleSize,s=["\u7b2c\u4e00\u5b63","\u7b2c\u4e8c\u5b63","\u7b2c\u4e09\u5b63","\u7b2c\u56db\u5b63","\u7b2c\u4e94\u5b63","\u7b2c\u516d\u5b63","\u7b2c\u4e03\u5b63","\u7b2c\u516b\u5b63","\u7b2c\u4e5d\u5b63","\u7b2c\u5341\u5b63","\u7b2c\u5341\u4e00\u5b63","\u7b2c\u5341\u4e8c\u5b63","\u7b2c\u5341\u4e09\u5b63","\u7b2c\u5341\u56db\u5b63","\u7b2c\u5341\u4e94\u5b63"],i=["\u7b2c\u4e00\u90e8","\u7b2c\u4e8c\u90e8","\u7b2c\u4e09\u90e8","\u7b2c\u56db\u90e8","\u7b2c\u4e94\u90e8","\u7b2c\u516d\u90e8","\u7b2c\u4e03\u90e8","\u7b2c\u516b\u90e8","\u7b2c\u4e5d\u90e8","\u7b2c\u5341\u90e8","\u7b2c\u5341\u4e00\u90e8","\u7b2c\u5341\u4e8c\u90e8","\u7b2c\u5341\u4e09\u90e8","\u7b2c\u5341\u56db\u90e8","\u7b2c\u5341\u4e94\u90e8"],c=[],o=[],r=Object.keys(a);if(1===r.length){var l=[];if(a[r[0]]>1)for(var u=0;u<a[r[0]];u++)"Movies"===n?l.push(i[u]):l.push(u+1);o.push(l)}else r.forEach((function(e,t){c.push(s[t]);for(var n=[],i=0;i<1*a[e];i++)n.push(i+1);o.push(n)}));e.s_e=o,e.s_name=c},e.changeSeason=function(t){e.setState({s_swift:t+1})},e.changeEpisode=function(t,n){var a=t+1,s=n+1;e.setState({s:a,e:s}),p.a.publish("startep",{s:a,e:s})},e.createEpisode=function(t,n){var a=e.state,s=a.s_swift,i=a.e,c=a.s;return Object(f.jsx)("div",{className:"episode_swiper",style:{display:s===n+1?"flex":"none"},children:t.map((function(t,a){return Object(f.jsx)("span",{className:i===a+1&&c===n+1?"active_e_slide episode_slide":"episode_slide",onClick:function(){return e.changeEpisode(n,a)},children:t},a)}))},n)},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){p.a.subscribe("sete",this.sete)}},{key:"componentWillUnmount",value:function(){p.a.unsubscribe("sete")}},{key:"render",value:function(){var e=this;this.create_s_e();var t=this.state.s_swift;return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{style:{display:this.s_e.length>1?"block":"none"},children:this.s_name.map((function(n,a){return Object(f.jsx)("button",{className:t===a+1?"active_s_button season_button":"season_button",onClick:function(){return e.changeSeason(a)},children:n},a)}))}),this.s_e.map(this.createEpisode)]})}}]),n}(a.Component)),z=function(e,t){b()({method:"get",url:t,responseType:"blob",headers:{"content-type":"application/octet-stream"}}).then((function(t){var n=new Blob([t.data],{type:"application/force-download"}),a=document.createElement("a"),s=window.URL.createObjectURL(n);a.href=s,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(s)})).catch((function(e){console.log(e)}))},V=(n(129),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={s_swift:1},e.changeSeason=function(t){e.setState({s_swift:t+1})},e.create_s_e=function(){var t=e.props.videoInfo,n=t.type,a=t.bundleSize,s=["\u7b2c\u4e00\u5b63","\u7b2c\u4e8c\u5b63","\u7b2c\u4e09\u5b63","\u7b2c\u56db\u5b63","\u7b2c\u4e94\u5b63","\u7b2c\u516d\u5b63","\u7b2c\u4e03\u5b63","\u7b2c\u516b\u5b63","\u7b2c\u4e5d\u5b63","\u7b2c\u5341\u5b63","\u7b2c\u5341\u4e00\u5b63","\u7b2c\u5341\u4e8c\u5b63","\u7b2c\u5341\u4e09\u5b63","\u7b2c\u5341\u56db\u5b63","\u7b2c\u5341\u4e94\u5b63"],i=["\u7b2c\u4e00\u90e8","\u7b2c\u4e8c\u90e8","\u7b2c\u4e09\u90e8","\u7b2c\u56db\u90e8","\u7b2c\u4e94\u90e8","\u7b2c\u516d\u90e8","\u7b2c\u4e03\u90e8","\u7b2c\u516b\u90e8","\u7b2c\u4e5d\u90e8","\u7b2c\u5341\u90e8","\u7b2c\u5341\u4e00\u90e8","\u7b2c\u5341\u4e8c\u90e8","\u7b2c\u5341\u4e09\u90e8","\u7b2c\u5341\u56db\u90e8","\u7b2c\u5341\u4e94\u90e8"],c=[],o=[],r=Object.keys(a);if(1===r.length){for(var l=[],u=0;u<a[r[0]];u++)"Movies"===n?l.push(i[u]):l.push(u+1);o.push(l)}else r.forEach((function(e,t){c.push(s[t]);for(var n=[],i=0;i<1*a[e];i++)n.push(i+1);o.push(n)}));e.s_e=o,e.s_name=c},e.download=function(t,n){var a=e.props.videoInfo,s=a.id,i=a.type,c=a.bundleName;z("".concat(c,"_S").concat(t,"_E").concat(n<10?"0"+n:n,".mp4"),"/video/getvideo?id=".concat(s,"&s=").concat(t,"&e=").concat(n,"&type=").concat(i))},e.createEpisode=function(t,n){var a=e.props.videoInfo.bundleName,s=e.state.s_swift;return Object(f.jsx)("ul",{style:{display:s===n+1?"block":"none"},children:t.map((function(t,s){return Object(f.jsxs)("li",{className:"download_ep",children:[Object(f.jsx)("span",{className:"download_ep_name",children:a+"_S"+(n+1)+"_E"+(s+1)}),Object(f.jsx)("span",{className:"download_ep_button",onClick:function(){e.download(n+1,s+1)},children:"\u4e0b\u8f7d"})]},s)}))},n)},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this;this.create_s_e();var t=this.state.s_swift;return Object(f.jsxs)("div",{className:"dowmload_warper",children:[Object(f.jsx)("h1",{className:"dowmload_header",children:"\u4e0b\u8f7d"}),Object(f.jsx)("div",{className:"download_s_wraper",style:{display:this.s_e.length>1?"block":"none"},children:this.s_name.map((function(n,a){return Object(f.jsx)("button",{className:t===a+1?"download_active_s_button download_season_button":"download_season_button",onClick:function(){return e.changeSeason(a)},children:n},a)}))}),this.s_e.map(this.createEpisode)]})}}]),n}(a.Component)),R=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.location.state;return Object(f.jsxs)("div",{className:"playpage",children:[Object(f.jsx)("h1",{className:"topVideoName",children:e.bundleName}),Object(f.jsx)(K,{videoInfo:e}),Object(f.jsx)(F,{videoInfo:e}),Object(f.jsx)(V,{videoInfo:e})]})}}]),n}(a.Component),H=(n(130),n(131),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={name_duplication:!1},e.keyDown=function(t){13===t.keyCode&&e.sure()},e.sure=function(){if(!e.name_duplication){var t=e.inputNode.value.trim();e.props.createNewDir(t),e.cancel()}},e.cancel=function(){e.props.cancelNewDir()},e.blur=function(){e.name_duplication=!1;var t=e.inputNode.value.trim();-1!==e.props.currentList.findIndex((function(e){return e.name===t}))?(e.name_duplication=!0,e.setState({name_duplication:!0})):e.setState({name_duplication:!1})},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.inputNode.focus()}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"createdir",children:[Object(f.jsxs)("div",{className:"create_inputouter",children:[Object(f.jsx)("input",{className:"create_inputinner",placeholder:"\u8bf7\u8f93\u5165\u65b0\u6587\u4ef6\u5939\u540d\u5b57",type:"text",ref:function(t){e.inputNode=t},onKeyDown:this.keyDown,onBlur:this.blur}),Object(f.jsx)("span",{className:"create_warn",style:{display:this.state.name_duplication?"block":"none"},children:"\u91cd\u540d"})]}),Object(f.jsx)("button",{className:"create_cancel",onClick:this.cancel,children:"\u53d6\u6d88"}),Object(f.jsx)("button",{className:"create_sure",onClick:this.sure,children:"\u786e\u5b9a"})]})}}]),n}(a.Component)),G=(n(132),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={percent:0,filename:"\u70b9\u51fb\u9009\u62e9\u8981\u4e0a\u4f20\u7684\u6587\u4ef6"},e.upload=function(){e.setState({percent:0});var t=e.props.dir,n=Object(k.a)(e),a=new FormData;a.append("type","file"),a.append("dir",t),a.append("FILE",e.fileNode.files[0]),b()({url:"/createFile",method:"post",headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;n.setState({percent:parseInt(t)})}},data:a}).then((function(e){"finished"===e.data&&n.props.intoDir()})).catch((function(e){console.log(e)}))},e.fakeClick=function(){e.fileNode.click()},e.fileChange=function(){e.fileNode.files.length>=1?e.setState({filename:e.fileNode.files[0].name}):e.setState({filename:"\u70b9\u51fb\u9009\u62e9\u8981\u4e0a\u4f20\u7684\u6587\u4ef6"})},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.state.percent;return Object(f.jsxs)("div",{className:"upload",children:[Object(f.jsxs)("div",{className:"upload_outer",children:[Object(f.jsx)("input",{className:"upload_inner",type:"file",ref:function(t){e.fileNode=t},onChange:this.fileChange}),Object(f.jsx)("span",{className:"upload_filename ellipsis",onClick:this.fakeClick,children:this.state.filename}),Object(f.jsx)("span",{className:"upload_percent",children:t>0?"--"+t+"%":""}),Object(f.jsx)("span",{className:"upload_button",onClick:this.upload,children:"\u4e0a\u4f20"})]}),Object(f.jsx)("span",{className:"cancelButton",onClick:function(){e.props.toggleUpload(!1)},children:"\u5173\u95ed"})]})}}]),n}(a.Component)),J=(n(133),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.msg;return Object(f.jsx)("div",{className:"msgbox",children:Object(f.jsx)("div",{className:"msgbox_msg",children:e})})}}]),n}(a.Component)),q=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={currentList:[],showCreateDir:!1,showUpload:!1,showMsg:!1},e.intoDir=function(){b.a.get("/getfiles?dir=".concat(e.dir)).then(e.changeList)},e.changeList=function(t){var n,a=[],s=[];t.data.forEach((function(e){e.chosen=!1,"dir"===e.type?a.push(e):"file"===e.type&&s.push(e)})),n=[].concat(a,s),e.setState({currentList:n})},e.handleKeyDown=function(t){switch(t.keyCode){case 17:e.ctrlDown||(e.ctrlDown=!0);break;case 16:e.shiftDown||(e.shiftDown=!0);break;case 65:if(t.preventDefault(),e.ctrlDown){var n=e.state.currentList.map((function(e){return e.chosen=!0,e}));e.chosenList=n,e.setState({currentList:n})}break;case 88:e.ctrlDown&&e.chosenList.length>0&&(e.moveList=e.chosenList,e.fromdir=e.dir);break;case 86:if(e.ctrlDown&&e.moveList.length>0){var a=Object(k.a)(e),s=a.moveList,i=a.fromdir,c=a.dir,o={ids:s.map((function(e){return e._id})),dir:i,newdir:c};e.moveList=[],b.a.post("/movefile",o).then((function(t){"success"===t.data&&e.intoDir()}))}break;case 67:e.ctrlDown&&e.showMessage();break;case 18:e.altDown||(e.altDown=!0);break;case 46:var r=Object(k.a)(e),l=r.chosenList,u=r.dir;if(l.length>0){var d={ids:l.map((function(e){return e._id})),dir:u};e.chosenList=[],b.a.post("/deletefile",d).then((function(t){"success"===t.data&&e.intoDir()}))}break;case 38:e.altDown?e.gotoPrevDir():e.chosenList.length}console.log(t.keyCode)},e.handleKeyUp=function(t){switch(t.stopPropagation(),t.preventDefault(),t.keyCode){case 17:e.ctrlDown=!1;break;case 16:e.shiftDown=!1;break;case 18:e.altDown=!1}},e.handleMouseDown=function(t){e.shiftDown&&(t.stopPropagation(),t.preventDefault())},e.handleWarperClick=function(t){t.stopPropagation(),e.unselectChosen()},e.unselectChosen=function(){e.chosenList=[];var t=e.state.currentList.map((function(e){return e.chosen=!1,e}));e.setState({currentList:t})},e.handleItemkeyDown=function(t,n){13===n.keyCode&&e.handleItemDbclick(t)},e.handleItemDbclick=function(t){"dir"===t.type&&(e.dir=t.modelName,e.dirName=t.name,e.stack.push(e.dir),e.stackName.push(e.dirName),e.intoDir())},e.gotoPrevDir=function(){var t=e.stack.length;t>1&&(e.dir=e.stack[t-2],e.dirName=e.stackName[t-2],e.stack.pop(),e.stackName.pop(),e.intoDir())},e.handleItemClik=function(t,n){n.stopPropagation(),n.preventDefault();var a=function(n){if(!1===e.ctrlDown&&(n.chosen=!1),n._id===t._id){n.chosen=!n.chosen;var a=e.chosenList.findIndex((function(e){return e._id===n._id}));a>=0?e.chosenList.splice(a,1):e.chosenList.push(n)}return n};if(e.ctrlDown){var s=e.state.currentList;s.map(a),e.setState({currentList:s})}else if(e.shiftDown&&e.chosenList.length>0){var i=e.state.currentList,c=i.findIndex((function(t){return t._id===e.chosenList[e.chosenList.length-1]._id})),o=i.findIndex((function(e){return e._id===t._id}));if(c>o){var r=o;o=c,c=r}var l=e.state.currentList.map((function(e,t){return e.chosen=t>=c&&t<=o,e}));e.setState({currentList:l}),e.chosenList=l.slice(c,o+1)}else if(!1===e.ctrlDown){e.chosenList=[];var u=e.state.currentList.map(a);e.setState({currentList:u})}},e.fileDownLoad=function(e,t){t.stopPropagation(),t.preventDefault(),z(e.name,"/downloadfile?id=".concat(e._id,"&dir=").concat(e.dir))},e.createNewDir=function(t){""!==t&&b.a.get("/createdir?name=".concat(t,"&dir=").concat(e.dir)).then((function(t){"success"===t.data&&e.intoDir()}))},e.showNewDir=function(){e.setState({showCreateDir:!0})},e.cancelNewDir=function(){e.setState({showCreateDir:!1})},e.toggleUpload=function(t){e.setState({showUpload:t})},e.showMessage=function(){e.setState({showMsg:!0});var t=setTimeout((function(){e.setState({showMsg:!1}),clearTimeout(t)}),1e3)},e.gotoDir=function(t){e.dir=e.stack[t],e.dirName=e.stackName[t],e.stack=e.stack.slice(0,t+1),e.stackName=e.stackName.slice(0,t+1),e.intoDir()},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){document.documentElement.addEventListener("keydown",this.handleKeyDown),document.documentElement.addEventListener("keyup",this.handleKeyUp),document.documentElement.addEventListener("mousedown",this.handleMouseDown),this.ctrlDown=!1,this.shiftDown=!1,this.altDown=!1,this.chosenList=[],this.moveList=[],this.dir="File0",this.dirName="\u6839\u76ee\u5f55",this.stack=[this.dir],this.stackName=[this.dirName],this.intoDir()}},{key:"componentWillUnmount",value:function(){document.documentElement.removeEventListener("keydown",this.handleKeyDown),document.documentElement.removeEventListener("keyup",this.handleKeyUp),document.documentElement.removeEventListener("mousedown",this.handleMouseDown)}},{key:"render",value:function(){var e=this,t=this.state.currentList;return Object(f.jsxs)("div",{className:"fileWarper",onClick:this.handleWarperClick,children:[this.state.showCreateDir?Object(f.jsx)(H,{createNewDir:this.createNewDir,cancelNewDir:this.cancelNewDir,currentList:this.state.currentList}):"",this.state.showUpload?Object(f.jsx)(G,{dir:this.dir,toggleUpload:this.toggleUpload,intoDir:this.intoDir}):"",this.state.showMsg?Object(f.jsx)(J,{msg:"\u6ca1\u6709\u590d\u5236\u529f\u80fd"}):"",Object(f.jsxs)("h1",{className:"dirs",children:[this.stackName?this.stackName.map((function(t,n){return Object(f.jsxs)("span",{children:[Object(f.jsx)("span",{className:"tagName filetag_left",onClick:function(){e.gotoDir(n)},children:t}),Object(f.jsx)("span",{className:"filetag_left",children:">"})]},n)})):"",Object(f.jsx)("span",{className:"tagName filetag_right",onClick:this.gotoPrevDir,children:"\u4e0a\u4e00\u7ea7"}),Object(f.jsx)("span",{className:"tagName filetag_right",onClick:this.showNewDir,children:"\u65b0\u5efa"}),Object(f.jsx)("span",{className:"tagName filetag_right",onClick:function(){e.toggleUpload(!0)},children:"\u4e0a\u4f20"})]}),Object(f.jsx)("ul",{children:t.map((function(t){return Object(f.jsxs)("li",{className:t.chosen?"file_li file_li_active":"file_li",onClick:function(n){e.handleItemClik(t,n)},onDoubleClick:function(){e.handleItemDbclick(t)},tabIndex:"-1",onKeyDown:function(n){e.handleItemkeyDown(t,n)},children:[Object(f.jsx)("span",{className:"dir"===t.type?"dirImg":"fileImg"}),Object(f.jsx)("span",{className:"fileName ellipsis",children:t.name}),Object(f.jsx)("span",{className:"fileDownLoad",style:{display:"file"===t.type?"block":"none"},onClick:function(n){e.fileDownLoad(t,n)},children:"\u4e0b\u8f7d"})]},t._id)}))})]})}}]),n}(a.Component),Y=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={currentList:[]},e.intoDir=function(){b.a.get("/getfiles?dir=".concat(e.dir)).then(e.changeList)},e.changeList=function(t){var n,a=[],s=[];t.data.forEach((function(e){e.chosen=!1,"dir"===e.type?a.push(e):"file"===e.type&&s.push(e)})),n=[].concat(a,s),e.setState({currentList:n})},e.handleKeyDown=function(t){switch(t.stopPropagation(),t.preventDefault(),t.keyCode){case 17:e.ctrlDown||(e.ctrlDown=!0);break;case 16:e.shiftDown||(e.shiftDown=!0);break;case 65:if(e.ctrlDown){var n=e.state.currentList.map((function(e){return e.chosen=!0,e}));e.chosenList=n,e.setState({currentList:n})}}},e.handleKeyUp=function(t){switch(t.stopPropagation(),t.preventDefault(),t.keyCode){case 17:e.ctrlDown=!1;break;case 16:e.shiftDown=!1}},e.handleMouseDown=function(t){e.shiftDown&&(t.stopPropagation(),t.preventDefault())},e.handleWarperClick=function(t){t.stopPropagation(),e.unselectChosen()},e.unselectChosen=function(){if(0!==e.chosenList.length){e.chosenList=[];var t=e.state.currentList.map((function(e){return e.chosen=!1,e}));e.setState({currentList:t})}},e.recoverChosen=function(){var t=Object(k.a)(e).chosenList;if(0!==t.length){var n={ids:t.map((function(e){return e._id}))};e.chosenList=[],b.a.post("/recoverfile",n).then((function(t){"success"===t.data&&e.intoDir()}))}},e.recoverOne=function(t,n){n.preventDefault(),n.stopPropagation();var a={ids:[t._id]};b.a.post("/recoverfile",a).then((function(t){"success"===t.data&&e.intoDir()}))},e.recoverAll=function(){if(0!==e.state.currentList.length){var t={ids:e.state.currentList.map((function(e){return e._id}))};b.a.post("/recoverfile",t).then((function(t){"success"===t.data&&e.intoDir()}))}},e.clearChosen=function(){var t=Object(k.a)(e).chosenList;if(0!==t.length){var n={ids:t.map((function(e){return e._id}))};e.chosenList=[],b.a.post("/clearfile",n).then((function(t){"success"===t.data&&e.intoDir()}))}},e.clearAll=function(){b.a.get("/clearall").then((function(t){"success"===t.data&&e.intoDir()}))},e.handleItemClik=function(t,n){n.stopPropagation(),n.preventDefault();var a=function(n){if(!1===e.ctrlDown&&(n.chosen=!1),n._id===t._id){n.chosen=!n.chosen;var a=e.chosenList.findIndex((function(e){return e._id===n._id}));a>=0?e.chosenList.splice(a,1):e.chosenList.push(n)}return n};if(e.ctrlDown){var s=e.state.currentList;s.map(a),e.setState({currentList:s})}else if(e.shiftDown&&e.chosenList.length>0){var i=e.state.currentList,c=i.findIndex((function(t){return t._id===e.chosenList[e.chosenList.length-1]._id})),o=i.findIndex((function(e){return e._id===t._id}));if(c>o){var r=o;o=c,c=r}var l=e.state.currentList.map((function(e,t){return e.chosen=t>=c&&t<=o,e}));e.setState({currentList:l}),e.chosenList=l.slice(c,o+1)}else if(!1===e.ctrlDown){e.chosenList=[];var u=e.state.currentList.map(a);e.setState({currentList:u})}},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){document.documentElement.addEventListener("keydown",this.handleKeyDown),document.documentElement.addEventListener("keyup",this.handleKeyUp),document.documentElement.addEventListener("mousedown",this.handleMouseDown),this.ctrlDown=!1,this.shiftDown=!1,this.chosenList=[],this.readyList=[],this.dir="RecycleBin",this.intoDir()}},{key:"componentWillUnmount",value:function(){document.documentElement.removeEventListener("keydown",this.handleKeyDown),document.documentElement.removeEventListener("keyup",this.handleKeyUp),document.documentElement.removeEventListener("mousedown",this.handleMouseDown)}},{key:"render",value:function(){var e=this,t=this.state.currentList;return Object(f.jsxs)("div",{className:"fileWarper",onClick:this.handleWarperClick,children:[Object(f.jsxs)("h1",{className:"dirs",children:[Object(f.jsx)("span",{className:"tagName filetag_left",children:"\u56de\u6536\u7ad9"}),Object(f.jsx)("span",{className:"filetag_left",children:">"}),Object(f.jsx)("span",{className:"tagName filetag_right",onClick:this.clearAll,children:"\u5168\u90e8\u6e05\u7a7a"}),Object(f.jsx)("span",{className:"tagName filetag_right",onClick:this.clearChosen,children:"\u6e05\u9664\u9009\u4e2d"}),Object(f.jsx)("span",{className:"tagName filetag_right",onClick:this.recoverAll,children:"\u5168\u90e8\u6062\u590d"}),Object(f.jsx)("span",{className:"tagName filetag_right",onClick:this.recoverChosen,children:"\u6062\u590d\u9009\u4e2d"})]}),Object(f.jsx)("ul",{children:t.map((function(t){return Object(f.jsxs)("li",{className:t.chosen?"file_li file_li_active":"file_li",onClick:function(n){e.handleItemClik(t,n)},tabIndex:"-1",children:[Object(f.jsx)("span",{className:"dir"===t.type?"dirImg":"fileImg"}),Object(f.jsx)("span",{className:"fileName",children:t.name}),Object(f.jsx)("span",{className:"fileDownLoad",style:{display:"file"===t.type?"block":"none"},onClick:function(n){e.recoverOne(t,n)},children:"\u8fd8\u539f"})]},t._id)}))})]})}}]),n}(a.Component),Q=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(f.jsx)("div",{className:"app",children:Object(f.jsxs)("div",{className:"appWraper",children:[Object(f.jsxs)("div",{className:"appHeader",children:[Object(f.jsx)("div",{className:"applogo",children:Object(f.jsx)("span",{children:"\u95f2"})}),Object(f.jsx)(y,{})]}),Object(f.jsxs)("div",{className:"appBody",children:[Object(f.jsxs)("div",{className:"nav",children:[Object(f.jsx)(c.b,{className:"link",activeClassName:"linkActive",to:"/movie",children:"\u7535\u5f71"}),Object(f.jsx)(c.b,{className:"link",activeClassName:"linkActive",to:"/animation",children:"\u52a8\u6f2b"}),Object(f.jsx)(c.b,{className:"link",activeClassName:"linkActive",to:"/tv",children:"\u7535\u89c6\u5267"}),Object(f.jsx)(c.b,{className:"link",activeClassName:"linkActive",to:"/file",children:"\u6587\u4ef6"}),Object(f.jsx)(c.b,{className:"link",activeClassName:"linkActive",to:"/recycle",children:"\u56de\u6536\u7ad9"})]}),Object(f.jsxs)("div",{className:"routesContent",children:[Object(f.jsx)(d.b,{path:"/movie",component:D}),Object(f.jsx)(d.b,{path:"/animation",component:E}),Object(f.jsx)(d.b,{path:"/tv",component:L}),Object(f.jsx)(d.b,{path:"/search",component:v}),Object(f.jsx)(d.b,{path:"/playpage",component:R}),Object(f.jsx)(d.b,{path:"/file",component:q}),Object(f.jsx)(d.b,{path:"/recycle",component:Y}),Object(f.jsx)(d.a,{to:"/movie"})]})]})]})})}}]),n}(a.Component),X=Object(d.f)(Q);i.a.render(Object(f.jsx)(c.a,{children:Object(f.jsx)(X,{})}),document.getElementById("root"))},34:function(e,t){var n={Action:"\u52a8\u4f5c",Fiction:"\u79d1\u5e7b",Love:"\u7231\u60c5",Fantasy:"\u5947\u5e7b",Comedy:"\u559c\u5267",Horror:"\u6050\u6016",Adventure:"\u5192\u9669",Disaster:"\u707e\u96be",Realistic:"\u73b0\u5b9e",Samurai:"\u6b66\u58eb",West:"\u897f\u90e8"},a={Fiction:"\u79d1\u5e7b",Robot:"\u673a\u6218",Theatrical:"\u5267\u573a",Harem:"\u540e\u5bab",Funny:"\u641e\u7b11",WarmBlood:"\u70ed\u8840",Daily:"\u65e5\u5e38",Battle:"\u6218\u6597",Reasoning:"\u63a8\u7406",Cure:"\u6cbb\u6108",CauseDepression:"\u81f4\u90c1",Campus:"\u6821\u56ed",Original:"\u539f\u521b",Adaptation:"\u6539\u7f16"},s={Chinese:"\u56fd\u4ea7",US_EU:"\u6b27\u7f8e",Korean:"\u65e5\u97e9"};t.movieTagsCN=n,t.movieTags=Object.keys(n),t.animationTagsCN=a,t.animationTags=Object.keys(a),t.tvTagsCN=s,t.tvTags=Object.keys(s)},67:function(e,t,n){},69:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t){}},[[134,1,2]]]);
//# sourceMappingURL=main.87d95610.chunk.js.map